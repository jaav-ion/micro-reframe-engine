{"ast":null,"code":"// src/api.js\nimport axios from 'axios';\nconst openaiKey = process.env.REACT_APP_OPENAI_API_KEY;\nexport const getReframe = async (situation, loudestThought, wishToHear) => {\n  const prompt = `\nYou are a compassionate, neuroscience-savvy mental health coach.\n\nGiven the following:\n- Situation: ${situation}\n- Loudest Thought: ${loudestThought}\n- What they wish someone would say: ${wishToHear}\n\nPlease return:\n1. A compassionate, neuroscience-based reframe (1–2 sentences)\n2. One grounding cue (e.g., breath, body scan, or sensory cue)\n3. One micro-action the user can take today to regain agency\n\nRespond in this format:\nReframe:\nGrounding Cue:\nMicro-Action:\n  `;\n  try {\n    const response = await axios.post('https://api.openai.com/v1/chat/completions', {\n      model: 'gpt-4',\n      messages: [{\n        role: 'user',\n        content: prompt\n      }],\n      temperature: 0.7\n    }, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${openaiKey}`\n      }\n    });\n    const reply = response.data.choices[0].message.content.trim();\n    return reply;\n  } catch (err) {\n    console.error('OpenAI API error:', err);\n    return 'Something went wrong. Try again.';\n  }\n};","map":{"version":3,"names":["axios","openaiKey","process","env","REACT_APP_OPENAI_API_KEY","getReframe","situation","loudestThought","wishToHear","prompt","response","post","model","messages","role","content","temperature","headers","Authorization","reply","data","choices","message","trim","err","console","error"],"sources":["/Users/riiz/MicroReframe/micro-reframe-engine/src/api.js"],"sourcesContent":["// src/api.js\nimport axios from 'axios';\n\nconst openaiKey = process.env.REACT_APP_OPENAI_API_KEY;\n\nexport const getReframe = async (situation, loudestThought, wishToHear) => {\n  const prompt = `\nYou are a compassionate, neuroscience-savvy mental health coach.\n\nGiven the following:\n- Situation: ${situation}\n- Loudest Thought: ${loudestThought}\n- What they wish someone would say: ${wishToHear}\n\nPlease return:\n1. A compassionate, neuroscience-based reframe (1–2 sentences)\n2. One grounding cue (e.g., breath, body scan, or sensory cue)\n3. One micro-action the user can take today to regain agency\n\nRespond in this format:\nReframe:\nGrounding Cue:\nMicro-Action:\n  `;\n\n  try {\n    const response = await axios.post(\n      'https://api.openai.com/v1/chat/completions',\n      {\n        model: 'gpt-4',\n        messages: [{ role: 'user', content: prompt }],\n        temperature: 0.7\n      },\n      {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${openaiKey}`\n        }\n      }\n    );\n\n    const reply = response.data.choices[0].message.content.trim();\n    return reply;\n  } catch (err) {\n    console.error('OpenAI API error:', err);\n    return 'Something went wrong. Try again.';\n  }\n};\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,SAAS,GAAGC,OAAO,CAACC,GAAG,CAACC,wBAAwB;AAEtD,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,SAAS,EAAEC,cAAc,EAAEC,UAAU,KAAK;EACzE,MAAMC,MAAM,GAAG;AACjB;AACA;AACA;AACA,eAAeH,SAAS;AACxB,qBAAqBC,cAAc;AACnC,sCAAsCC,UAAU;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;EAED,IAAI;IACF,MAAME,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAC/B,4CAA4C,EAC5C;MACEC,KAAK,EAAE,OAAO;MACdC,QAAQ,EAAE,CAAC;QAAEC,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAEN;MAAO,CAAC,CAAC;MAC7CO,WAAW,EAAE;IACf,CAAC,EACD;MACEC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAE,UAAUjB,SAAS;MACpC;IACF,CACF,CAAC;IAED,MAAMkB,KAAK,GAAGT,QAAQ,CAACU,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACP,OAAO,CAACQ,IAAI,CAAC,CAAC;IAC7D,OAAOJ,KAAK;EACd,CAAC,CAAC,OAAOK,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEF,GAAG,CAAC;IACvC,OAAO,kCAAkC;EAC3C;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}